(this.webpackJsonpmarioplan=this.webpackJsonpmarioplan||[]).push([[0],{221:function(e,t,n){},409:function(e,t,n){"use strict";n.r(t);var c=n(24),i=n(0),s=n(2),r=n(93),o=n.n(r),a=n(5),l=n(6),d=n(9),j=n(8),u=n(4),h=n(13),b=(n(221),n(95)),p=n.n(b),O=function(e){var t=e.profile;return console.log(e),Object(i.jsx)("div",{class:"white dropdown z-depth-2",children:t&&t.notice&&t.notice.map((function(e){return Object(i.jsxs)("div",{class:"grey-text-small",children:[Object(i.jsx)(u.b,{to:"/project/"+e.id,children:Object(i.jsx)("b",{children:e.notice})}),Object(i.jsx)("br",{}),p()(e.date.toDate()).fromNow(),Object(i.jsx)("hr",{})]})}))})},m=function(e){return function(t,n,c){c.getFirebase;(0,c.getFirestore)().collection("project").doc(e).delete().then((function(){t({type:"CREATE_PROJECT",project:e})})).catch((function(e){t({type:"CREATE_PROJECT_ERROR",err:e})}))}},f=function(e,t,n,c){return"like"===n?function(n,i,s){s.getFirebase;(0,s.getFirestore)().collection("project").doc(e).update({Likes:t.Likes+1,Likedbyid:c[0].concat(t.Likedbyid),Likedby:c[1].concat(t.Likedby)}).then((function(){n({type:"UPDATE_PROJECT",project:e})})).catch((function(e){n({type:"UPDATE_PROJECT_ERROR",err:e})}))}:"unlike"===n?function(i,s,r){r.getFirebase;(0,r.getFirestore)().collection("project").doc(e,n).update({Likes:t.Likes-1,Likedbyid:c[0],Likedby:c[1]}).then((function(){i({type:"UPDATE_PROJECT",project:e})})).catch((function(e){i({type:"UPDATE_PROJECT_ERROR",err:e})}))}:"dp"===n?function(n,c,i){i.getFirebase;(0,i.getFirestore)().collection("users").doc(e).update({image:t}).then((function(){n({type:"UPDATE_PROJECT",project:e})})).catch((function(e){n({type:"UPDATE_PROJECT_ERROR",err:e})}))}:"update"===n?function(c,i,s){s.getFirebase;(0,s.getFirestore)().collection("project").doc(e,n).update({title:t.title,content:t.content}).then((function(){c({type:"UPDATE_PROJECT",project:e})})).catch((function(e){c({type:"UPDATE_PROJECT_ERROR",err:e})}))}:"comment"===n?function(n,i,s){s.getFirebase;(0,s.getFirestore)().collection("project").doc(e).update({Comments:[c].concat(t.Comments)}).then((function(){n({type:"UPDATE_PROJECT",project:e})})).catch((function(e){n({type:"UPDATE_PROJECT_ERROR",err:e})}))}:"deletecomment"===n?function(t,n,i){i.getFirebase;(0,i.getFirestore)().collection("project").doc(e).update({Comments:c}).then((function(){t({type:"UPDATE_PROJECT",project:e})})).catch((function(e){t({type:"UPDATE_PROJECT_ERROR",err:e})}))}:void 0},x=function(e,t,n,c,i){return function(s,r,o){o.getFirebase;var a=o.getFirestore;c=c.slice(0,6),a().collection("users").doc(e).update({noticeno:i+1,notice:[{id:n,notice:t,date:new Date}].concat(c)}).then((function(){s({type:"UPDATE_PROJECT",project:e})})).catch((function(e){s({type:"UPDATE_PROJECT_ERROR",err:e})}))}},g=function(e){return console.log(e,"signedout"),e.details&&!0===e.details.isEmpty?Object(i.jsx)("div",{className:"container",children:Object(i.jsxs)("ul",{className:"right",children:[Object(i.jsx)("li",{children:Object(i.jsx)(u.b,{to:"/SignIn",children:" Log In"})}),Object(i.jsx)("li",{children:Object(i.jsx)(u.b,{to:"/SignUp",children:" Create New Account "})})]})}):null},y=n(7),v=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=function(){e.props.deletenoticeno(e.props.details.uid),"inline"===document.getElementById("notice").style.display?document.getElementById("notice").style.display="none":(document.getElementById("notice").style.display="inline",document.getElementById("dropdown").style.display="none")},n=function(){"inline"===document.getElementById("dropdown").style.display?document.getElementById("dropdown").style.display="none":(document.getElementById("dropdown").style.display="inline",document.getElementById("notice").style.display="none")},c=this.props,s=c.profile,r=c.details;console.log(this.props);var o="/profile/"+r.uid;return!0!==r.isEmpty?Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:"navbar grey darken-3",children:[Object(i.jsx)(u.b,{to:"/",children:Object(i.jsx)("i",{class:"material-icons white-text left home small",children:"home"})}),Object(i.jsx)(u.b,{to:"/Create",children:Object(i.jsxs)("ul",{class:"left npbtn pink white-text",children:[Object(i.jsx)("b",{class:"pink-text",children:"......"})," Create New Project"]})}),s.image?Object(i.jsx)("img",{alt:"img",src:s.image,width:"50",height:"50",class:"img",onMouseEnter:n,onClick:n}):Object(i.jsx)("i",{class:"medium material-icons img white-text",onMouseEnter:n,onClick:n,children:"account_circle"}),Object(i.jsxs)(u.b,{children:[" ",Object(i.jsxs)("m1",{class:"white-text right",children:[Object(i.jsx)("br",{}),Object(i.jsx)("i",{class:"material-icons small",onClick:t,children:"notifications"}),s.noticeno?Object(i.jsx)("b",{class:"nono",children:s.noticeno}):null]})]}),Object(i.jsxs)("div",{class:"right dropdown card a",id:"dropdown",onMouseLeave:n,children:[Object(i.jsxs)(u.b,{to:o,class:"black-text",children:[" Mannage Account",Object(i.jsx)("hr",{})]}),Object(i.jsxs)(u.b,{to:"/upload",class:"black-text",children:[" Update Profile Pic",Object(i.jsx)("hr",{})]}),Object(i.jsx)(u.b,{onClick:function(){return t=e.props,void(window.confirm("Are you sure you wish to Log Out?")&&t.signOut());var t},class:"black-text",children:" Log Out "})]})]}),Object(i.jsxs)("div",{class:"a",id:"notice",onMouseLeave:t,children:[" ",Object(i.jsx)(O,{profile:s})," "]})]}):Object(i.jsx)("nav",{className:"nav-wrapper grey darken-3",children:Object(i.jsx)("div",{className:"container",children:Object(i.jsx)(g,{details:r})})})}}]),n}(s.Component),C=Object(y.b)((function(e){return{details:e.firebase.auth,profile:e.firebase.profile}}),(function(e){return{signOut:function(){return e((function(e,t,n){(0,n.getFirebase)().auth().signOut().then((function(){e({type:"SIGNED_OUT"})}))}))},deletenoticeno:function(t){e(function(e){return function(t,n,c){c.getFirebase,(0,c.getFirestore)().collection("users").doc(e).update({noticeno:0}).then((function(){t({type:"UPDATE_PROJECT",project:e})})).catch((function(e){t({type:"UPDATE_PROJECT_ERROR",err:e})}))}}(t))}}}))(v),E=n(38),k=n(16),w=n(15),N=n(37);n(374),n(410),n(376);N.a.initializeApp({apiKey:"AIzaSyD7Om6kid5EqjKry2GpESGhQRqBxqUmTcc",authDomain:"net-ninja-marioplan-eef83.firebaseapp.com",projectId:"net-ninja-marioplan-eef83",storageBucket:"net-ninja-marioplan-eef83.appspot.com",messagingSenderId:"995471059952",appId:"1:995471059952:web:4e74c74ad74b6f472bcb35"}),N.a.firestore().settings({timestampsInSnapshots:!0});var P=N.a.storage(),R=Object(w.d)(Object(k.firestoreConnect)((function(){return["project"]})),Object(y.b)((function(e){return console.log(e),{auth:e.firebase.auth,profile:e.firebase.profile}}),(function(e){return{updateProject:function(t,n,c,i){e(f(t,n,c,i))}}})))((function(e){var t=Object(s.useState)(null),n=Object(E.a)(t,2),c=n[0],r=n[1],o=Object(s.useState)(""),a=Object(E.a)(o,2),l=a[0],d=a[1],j=Object(s.useState)(0),u=Object(E.a)(j,2),b=u[0],p=u[1],O="./profile/"+e.auth.uid;return console.log("image: ",c),e.auth.uid?Object(i.jsx)("div",{class:"container row",children:Object(i.jsxs)("div",{class:" white col l8 s12 m10 offset-l2",children:["Progress Bar",Object(i.jsx)("br",{}),Object(i.jsx)("progress",{value:b,max:"100",class:"grey"}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("input",{type:"file",onChange:function(e){e.target.files[0]&&r(e.target.files[0])}}),Object(i.jsx)("button",{class:"btn",onClick:function(){P.ref("images/".concat(c.name)).put(c).on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);p(t)}),(function(e){console.log(e)}),(function(){P.ref("images").child(c.name).getDownloadURL().then((function(e){d(e)}))})),console.log(l),document.getElementById("10").style.display="inline"},children:"Upload"}),Object(i.jsx)("br",{}),Object(i.jsx)("img",{src:l||"https://st3.depositphotos.com/13159112/17145/v/600/depositphotos_171453724-stock-illustration-default-avatar-profile-icon-grey.jpg",alt:"firebase",width:"100",height:"100"}),Object(i.jsx)("k1",{id:"10",children:Object(i.jsx)("button",{class:"btn a",onClick:function(){return function(t){window.confirm("Are you sure?")&&(e.updateProject(e.auth.uid,t,"dp",0),e.history.push(O))}(l)},children:"Update"})})]})}):Object(i.jsx)(h.a,{to:"/SignIn/"})})),S=n(23),I=0,_=Object(y.b)((function(e){return console.log(e),{auth:e.firebase.auth,profile:e.firebase.profile}}))((function(){var e=Object(s.useState)(null),t=Object(E.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)(""),o=Object(E.a)(r,2),a=o[0],l=o[1],d=Object(s.useState)(0),j=Object(E.a)(d,2),u=j[0],h=j[1];return console.log("image: ",n),Object(i.jsxs)("div",{class:"m10 mar",children:["Progress Bar",Object(i.jsx)("br",{}),Object(i.jsx)("progress",{value:u,max:"100",class:"grey"}),Object(i.jsxs)("c",{class:"right",children:[Object(i.jsx)("input",{type:"file",onChange:function(e){e.target.files[0]&&c(e.target.files[0])}}),Object(i.jsx)("button",{onClick:function(){P.ref("images/".concat(n.name)).put(n).on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);h(t)}),(function(e){console.log(e)}),(function(){P.ref("images").child(n.name).getDownloadURL().then((function(e){l(e)}))})),console.log(a)},children:"Upload"})]}),Object(i.jsx)("br",{}),Object(i.jsxs)("m",{class:"a",children:[" ",I=a," "]})]})})),A=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(a.a)(this,n);for(var c=arguments.length,i=new Array(c),s=0;s<c;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={title:"",content:"",image:"",Likes:0,AuthorId:e.props.auth.uid,AuthorFirstName:e.props.profile.firstName,AuthorImage:e.props.profile.image,AuthorLastName:e.props.profile.lastName},e.handleChange=function(t){e.setState(Object(S.a)({},t.target.id,t.target.value))},e.handleClick=function(){"none"===document.getElementById("imgup").style.display?document.getElementById("imgup").style.display="inline":document.getElementById("imgup").style.display="none"},e.handleDone=function(t){e.state.title&&(t&&e.setState({image:t}),document.getElementById("element1").style.display="none",document.getElementById("element2").style.display="inline")},e.handlePost=function(){e.state.title?(console.log(e.state),e.props.createProject(e.state),e.props.history.goBack()):(document.getElementById("element2").style.display="none",document.getElementById("element1").style.display="inline")},e.handleCancel=function(){e.props.history.goBack()},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return this.props.auth.uid?Object(i.jsx)("div",{className:"row",children:Object(i.jsx)("div",{className:"white card col l6 m8 s12 offset-l3  offset-m2 abc",children:Object(i.jsxs)("div",{class:"card-content",children:[Object(i.jsxs)("b",{className:"npt",children:["Creating a new project",Object(i.jsx)("i",{class:"small material-icons black-text right",onClick:this.handleCancel,children:"cancel"})]}),Object(i.jsx)("br",{}),Object(i.jsx)("hr",{}),Object(i.jsxs)("div",{class:"row",children:[Object(i.jsxs)("div",{className:"input-field col l11  s12",children:[Object(i.jsx)("label",{htmlFor:"title",children:"Title"}),Object(i.jsx)("input",{type:"text",id:"title",class:"grey lighten-2",onChange:this.handleChange})]}),Object(i.jsxs)("div",{class:"ab",children:[Object(i.jsx)("br",{}),Object(i.jsx)("i",{class:"material-icons blue-text",children:"create"})]}),Object(i.jsxs)("div",{className:"input-field col s12 l11",children:[Object(i.jsx)("textarea",{id:"content",class:"materialize-textarea grey lighten-2",onChange:this.handleChange}),Object(i.jsx)("label",{htmlFor:"content",children:"Project Content"})]}),Object(i.jsxs)("div",{class:"ab",children:[Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("i",{class:"material-icons blue-text",children:"create"})]}),Object(i.jsxs)("div",{className:"input-field grey-text col s11",children:[Object(i.jsxs)("k",{onClick:this.handleClick,children:[Object(i.jsx)("m",{class:"btn-floating img1 small"}),Object(i.jsxs)("b",{children:[" "," ","Add Images "]})]}),Object(i.jsx)("div",{class:"a",id:"imgup",children:Object(i.jsx)(_,{})})]})]}),Object(i.jsx)("k",{id:"element1",children:Object(i.jsx)("button",{className:"btn pink right z-depth-2",onClick:function(){return e.handleDone(I)},children:"1.Done"})}),Object(i.jsx)("k1",{id:"element2",children:Object(i.jsx)("button",{class:"a btn pink z-depth-2 right",onClick:this.handlePost,children:"2.Post Project"})}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{})]})})}):Object(i.jsx)(h.a,{to:"/SignIn"})}}]),n}(s.Component),T=Object(y.b)((function(e){return{auth:e.firebase.auth,profile:e.firebase.profile}}),(function(e){return{createProject:function(t){e(function(e){return function(t,n,i){i.getFirebase,(0,i.getFirestore)().collection("project").add(Object(c.a)(Object(c.a)({},e),{},{createdAt:new Date,Likedby:[],Likedbyid:[],Comments:[]})).then((function(){t({type:"CREATE_PROJECT",project:e})})).catch((function(e){t({type:"CREATE_PROJECT_ERROR",err:e})}))}}(t))}}}))(A),L=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(a.a)(this,n);for(var c=arguments.length,i=new Array(c),s=0;s<c;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={email:"",password:""},e.handleChange=function(t){e.setState(Object(S.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),console.log(e.props),e.props.signIn(e.state),console.log(e.state)},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.auth,n=e.autherror;return t.uid?Object(i.jsx)(h.a,{to:"/"}):Object(i.jsx)("div",{className:"container abcd",children:Object(i.jsxs)("form",{className:"white",onSubmit:this.handleSubmit,children:[Object(i.jsx)("h5",{className:"grey-text text-darken-3",children:"Sign In"}),Object(i.jsxs)("div",{className:"input-field",children:[Object(i.jsx)("label",{htmlFor:"email",children:"Email"}),Object(i.jsx)("input",{type:"email",id:"email",onChange:this.handleChange})]}),Object(i.jsxs)("div",{className:"input-field",children:[Object(i.jsx)("label",{htmlFor:"password",children:"Password"}),Object(i.jsx)("input",{type:"password",id:"password",onChange:this.handleChange})]}),Object(i.jsxs)("div",{className:"input-field",children:[Object(i.jsx)("button",{className:"btn pink lighten-1 z-depth-0",children:"Login"}),Object(i.jsx)("div",{className:"red-text center",children:n?Object(i.jsx)("p",{children:n}):null})]})]})})}}]),n}(s.Component),F=Object(y.b)((function(e){return{autherror:e.auth.authError,auth:e.firebase.auth}}),(function(e){return{signIn:function(t){return e((n=t,function(e,t,c){(0,c.getFirebase)().auth().signInWithEmailAndPassword(n.email,n.password).then((function(){e({type:"LOGIN_SUCCESS"})})).catch((function(t){e({type:"LOGIN_ERROR",err:t})}))}));var n}}}))(L),U=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(a.a)(this,n);for(var c=arguments.length,i=new Array(c),s=0;s<c;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={email:"",password:"",firstName:"",lastName:""},e.handleChange=function(t){e.setState(Object(S.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.signUp(e.state)},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.auth,n=e.autherror;return t.uid?Object(i.jsx)(h.a,{to:"/"}):Object(i.jsx)("div",{className:"container",children:Object(i.jsxs)("form",{className:"white",onSubmit:this.handleSubmit,children:[Object(i.jsx)("h5",{className:"grey-text text-darken-3",children:"Sign Up"}),Object(i.jsxs)("div",{className:"input-field",children:[Object(i.jsx)("label",{htmlFor:"email",children:"Email"}),Object(i.jsx)("input",{type:"email",id:"email",onChange:this.handleChange})]}),Object(i.jsxs)("div",{className:"input-field",children:[Object(i.jsx)("label",{htmlFor:"password",children:"Password"}),Object(i.jsx)("input",{type:"password",id:"password",onChange:this.handleChange})]}),Object(i.jsxs)("div",{className:"input-field",children:[Object(i.jsx)("label",{htmlFor:"firstName",children:"First Name"}),Object(i.jsx)("input",{type:"text",id:"firstName",onChange:this.handleChange})]}),Object(i.jsxs)("div",{className:"input-field",children:[Object(i.jsx)("label",{htmlFor:"lastName",children:"Last Name"}),Object(i.jsx)("input",{type:"text",id:"lastName",onChange:this.handleChange})]}),Object(i.jsxs)("div",{className:"input-field",children:[Object(i.jsx)("button",{className:"btn pink lighten-1 z-depth-0",children:"Sign Up"}),Object(i.jsx)("div",{className:"red-text center",children:n?Object(i.jsx)("p",{children:n}):null})]})]})})}}]),n}(s.Component),D=Object(y.b)((function(e){return{auth:e.firebase.auth,autherror:e.auth.authError}}),(function(e){return{signUp:function(t){return e(function(e){return function(t,n,c){var i=c.getFirebase,s=c.getFirestore,r=i(),o=s();r.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(t){return o.collection("users").doc(t.user.uid).set({firstName:e.firstName,lastName:e.lastName,initials:e.firstName[0]+e.lastName[0],notice:[],noticeno:0,notifications:{},joinedon:new Date,image:""})})).then((function(){t({type:"SIGNUP_SUCCESS"})})).catch((function(e){t({type:"SIGNUP_ERROR",err:e})}))}}(t))}}}))(U),B=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.list;return console.log(e,"List"),Object(i.jsx)("div",{children:e&&e.map((function(e){return Object(i.jsx)("div",{children:e})}))})}}]),n}(s.Component),J=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(a.a)(this,n);for(var c=arguments.length,i=new Array(c),s=0;s<c;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={comment:"",w:"",a2:""},e._handleKeyDown=function(t,n,c){console.log(n),"Enter"===t.key&&e.submitComment(n,c)},e.handleChange=function(t){e.setState({comment:t.target.value,w:t})},e.submitComment=function(t,n){if(e.state.comment){var c=e.props.project,i=e.props.profile.firstName+" added comment on your project "+c.title,s=e.props.author.notice;e.props.author.id!==e.props.auth.uid&&t.id!==e.props.author.id&&e.props.addnotice(e.props.author.id,i,c.id,s,e.props.author.noticeno);var r=t.noticeno,o=e.props.profile.firstName+" replied to your comment on project "+c.title;t.id!==e.props.auth.uid&&e.props.addnotice(t.id,o,c.id,t.notice,r);var a=c.Comments,l={aid:e.props.auth.uid,name:e.props.profile.firstName,post:e.state.comment};console.log(a,"th33th33th33",n),a=a.slice(0,n).concat(l).concat(a.slice(n,a.length)),console.log(a),e.props.updateProject(c.id,c,"deletecomment",a),e.setState({comment:""}),e.state.w.target.value="",document.getElementById("reply"+e.props.i).style.display="none"}},e.deleteComment=function(t,n){for(var c=[],i=1,s=e.props.list;i<=s.length;i++)i!==t&&c.push(s[i-1]);e.props.updateProject(n.id,n,"deletecomment",c)},e.allowReply=function(t){"none"===document.getElementById("reply"+e.props.i).style.display?document.getElementById("reply"+e.props.i).style.display="inline":document.getElementById("reply"+e.props.i).style.display="none",document.getElementById("Reply"+e.props.i).value=t},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.comment,c=t.i,s=t.auth,r=t.project,o=t.users,a=!1;return o&&(a=o.find((function(e){return e.id===n.aid}))),a?Object(i.jsxs)("div",{children:[Object(i.jsx)("m",{class:"a",children:c++}),n.aid===s.uid?Object(i.jsxs)(u.b,{class:"black-text",children:[" ",Object(i.jsx)("i",{class:"right material-icons",onClick:function(){return e.deleteComment(c,r)},children:"delete"})]}):Object(i.jsx)("b",{class:"right blue-text comment grey lighten-2",onClick:function(){return e.allowReply(a.firstName)},children:"Reply"}),a&&a.image?Object(i.jsx)(u.b,{to:"/profile/"+a.id,children:Object(i.jsx)("img",{alt:"img",src:a.image,width:"35",height:"35",class:"img left"})}):a?Object(i.jsx)(u.b,{to:"/profile/"+a.id,children:Object(i.jsx)("i",{class:"small blue-text material-icons left",children:"account_circle"})}):null,Object(i.jsxs)("div",{class:"container white comment",children:[Object(i.jsx)("b",{children:a.firstName}),": ",n.post,Object(i.jsx)("m",{class:"a",id:"reply"+this.props.i,children:Object(i.jsxs)("div",{children:[Object(i.jsx)("i",{class:"material-icons right",onClick:function(){return e.submitComment(a,c)},children:"send"}),Object(i.jsx)("div",{class:"container",children:Object(i.jsx)("textarea",{type:"text",id:"Reply"+this.props.i,onChange:this.handleChange,onKeyDown:function(t){return e._handleKeyDown(t,a,c)}})})]})})]}),Object(i.jsx)("br",{})]}):null}}]),n}(s.Component),z=Object(y.b)(null,(function(e){return{deleteProject:function(t){e(m(t))},updateProject:function(t,n,c,i){e(f(t,n,c,i))},addnotice:function(t,n,c,i,s){e(x(t,n,c,i,s))}}}))(J),G=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(a.a)(this,n);for(var c=arguments.length,i=new Array(c),s=0;s<c;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={comment:"",w:""},e._handleKeyDown=function(t){"Enter"===t.key&&e.submitComment(e.props.profile,e.props.project,e.props.auth)},e.handleChange=function(t){var n;e.setState((n={},Object(S.a)(n,t.target.id,t.target.value),Object(S.a)(n,"w",t),n))},e.deleteComment=function(e){console.log(e)},e.submitComment=function(t,n,c){if(e.state.comment){e.props.updateProject(n.id,n,"comment",{name:t.firstName,post:e.state.comment,aid:c.uid});var i=e.props.profile.firstName+" added comment on your project "+n.title,s=e.props.author.notice;e.props.author.id!==c.uid&&e.props.addnotice(e.props.author.id,i,n.id,s,e.props.author.noticeno),e.setState({comment:""}),e.state.w.target.value=""}},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.list,c=t.project,s=t.profile,r=t.auth,o=t.users,a=t.author,l=0;return Object(i.jsx)("div",{children:Object(i.jsxs)("div",{className:"row",children:[Object(i.jsxs)("div",{className:"col s12 m9 l9 grey lighten-2 blue1",children:[Object(i.jsx)("br",{}),n&&n.map((function(e){return Object(i.jsxs)("div",{children:[Object(i.jsx)(z,{author:a,project:c,profile:s,comment:e,users:o,i:l,list:n,auth:r}),console.log(l++)]})}))]}),Object(i.jsx)("div",{className:"col s10 m11",children:Object(i.jsx)("input",{type:"text",id:"comment",onChange:this.handleChange,className:"input-area",onKeyDown:this._handleKeyDown})}),Object(i.jsx)("div",{className:"right",children:Object(i.jsx)("button",{class:"btn-floating i22 ",type:"submit",onClick:function(){return e.submitComment(s,c,r)}})})]})})}}]),n}(s.Component),M=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(a.a)(this,n);for(var c=arguments.length,i=new Array(c),s=0;s<c;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={commentlist:!0,likelist:!1},e.handleLike=function(t){e.props.updateProject(t.id,t,"like",[[e.props.auth.uid],[e.props.profile.firstName]]);var n=e.props.profile.firstName+" liked your project "+t.title;e.props.auth.uid!==e.props.author.id&&e.props.addnotice(e.props.author.id,n,t.id,e.props.author.notice,e.props.author.noticeno)},e.handleCommentList=function(){e.setState({commentlist:!e.state.commentlist})},e.handleLikeList=function(){e.setState({likelist:!e.state.likelist})},e.handleUnlike=function(t){for(var n=0,c=[],i=[];n<t.Likedbyid.length;n++)t.Likedbyid[n]!==e.props.auth.uid&&(c.push(t.Likedbyid[n]),i.push(t.Likedby[n]));e.props.updateProject(t.id,t,"unlike",[c,i])},e}return Object(l.a)(n,[{key:"render",value:function(){for(var e=this,t=!1,n=0,c=this.props,s=c.auth,r=c.project,o=c.profile,a=c.users,l=c.author;n<r.Likedbyid.length;n++)r.Likedbyid[n]===s.uid&&(t=!0);return Object(i.jsxs)("div",{children:[!1===t?Object(i.jsx)("div",{class:"btn-floating left li z-depth-0",onClick:function(){return e.handleLike(r)}}):Object(i.jsx)("div",{class:" btn-floating left li2 z-depth-0",onClick:function(){return e.handleUnlike(r)}}),Object(i.jsxs)("div",{class:"grey-text-small",children:[Object(i.jsxs)("u",{onClick:this.handleLikeList,children:["Likes (",r.Likes,")"]}),!0===this.state.likelist?Object(i.jsxs)("div",{class:"container",children:[" ",Object(i.jsx)(B,{list:r.Likedby})]}):null]}),Object(i.jsx)("br",{}),Object(i.jsx)("div",{class:" btn-floating left li3 z-depth-0",onClick:this.handleCommentList}),Object(i.jsxs)("div",{children:[Object(i.jsx)("u",{class:"grey-text-small blue-text",onClick:this.handleCommentList,children:Object(i.jsxs)("b",{children:["Comments (",r.Comments.length,")"]})}),!0===this.state.commentlist?Object(i.jsx)(G,{list:r.Comments,author:l,addnotice:this.props.addnotice,project:r,profile:o,users:a,auth:s,updateProject:this.props.updateProject}):null]})]})}}]),n}(s.Component),K=Object(w.d)(Object(k.firestoreConnect)((function(){return["project"]})),Object(y.b)((function(e){return{auth:e.firebase.auth,profile:e.firebase.profile}})))(M),q=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(a.a)(this,n);for(var c=arguments.length,i=new Array(c),s=0;s<c;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={comment:!1},e.handleClick=function(){window.confirm("Are you sure you wish to delete this item?")&&(e.props.deleteProject(e.props.match.params.id),e.props.history.goBack())},e.abc=function(){e.props.history.goBack()},e}return Object(l.a)(n,[{key:"render",value:function(){console.log(this.props);var e=this.props.match.params.id,t="/edit/"+e,n=this.props,c=n.auth,s=n.users,r=this.props.project,o=!1,a=!1;return r&&(o=r.find((function(t){return t.id===e}))),o&&s&&(a=s.find((function(e){return e.id===o.AuthorId}))),c.uid?o?Object(i.jsxs)("div",{class:"row",children:[Object(i.jsx)("div",{class:" white col l7 m9 s10 offset-s1 offset-l2 offset-m1 project-title",children:Object(i.jsxs)("div",{class:"card-content1",children:[Object(i.jsxs)("div",{class:"title blue-text",children:[o.title,c.uid===o.AuthorId?Object(i.jsx)(u.b,{to:t,children:Object(i.jsx)("button",{class:"right btn-floating edit grey darken-3",children:Object(i.jsx)("i",{class:"material-icons",children:"edit"})})}):null,Object(i.jsx)("button",{class:"right btn-floating grey darken-3 ",onClick:this.abc,children:Object(i.jsx)("i",{class:"material-icons",children:"clear"})})]}),Object(i.jsxs)("div",{class:"row",children:[Object(i.jsx)("div",{class:"pimg col l1",children:a&&a.image?Object(i.jsx)(u.b,{to:"/profile/"+a.id,children:Object(i.jsx)("img",{alt:"img",src:a.image,width:"55",height:"55",class:"img"})}):a?Object(i.jsx)(u.b,{to:"/profile/"+a.id,children:Object(i.jsx)("i",{class:"medium blue-text material-icons",children:"account_circle"})}):null}),Object(i.jsxs)("div",{class:"col l6 m7 s12",children:[a?Object(i.jsxs)("b",{children:["Posted by ",Object(i.jsxs)("o",{children:[a.firstName," ",a.lastName," "]}),Object(i.jsx)("br",{})]}):null,Object(i.jsx)("c",{class:"grey-text-small",children:o.createdAt.toDate().toString().slice(0,15)}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),o.image?Object(i.jsx)("img",{alt:"img",id:"k",src:o.image}):null]}),Object(i.jsx)("div",{class:"lap",children:Object(i.jsx)("p",{children:o.content})}),Object(i.jsx)("div",{class:"col s12 mob",children:Object(i.jsx)("p",{children:o.content})})]}),Object(i.jsx)("div",{children:Object(i.jsxs)("div",{class:"rkn",children:[Object(i.jsx)("hr",{}),Object(i.jsx)(K,{auth:c,author:a,project:o,users:s,updateProject:this.props.updateProject,addnotice:this.props.addnotice,authorid:o.AuthorId})]})})]})}),Object(i.jsxs)("div",{className:"delete col offset-s5",children:[Object(i.jsx)("br",{}),c.uid===o.AuthorId?Object(i.jsx)("button",{className:"btn white black-text z-depth-10",onClick:this.handleClick,children:"Delete Post"}):null]})]}):null:Object(i.jsx)(h.a,{to:"/SignIn"})}}]),n}(s.Component),H=Object(w.d)(Object(k.firestoreConnect)((function(){return["project","users"]})),Object(y.b)((function(e){return{project:e.firestore.ordered.project,users:e.firestore.ordered.users,auth:e.firebase.auth}}),(function(e){return{deleteProject:function(t){e(m(t))},updateProject:function(t,n,c,i){e(f(t,n,c,i))},addnotice:function(t,n,c,i,s){e(x(t,n,c,i,s))}}})))(q),W=function(e){var t=e.project,n=e.users,c="/project/"+t.id,s=!1;return n&&(s=n.find((function(e){return e.id===t.AuthorId}))),Object(i.jsx)("div",{className:"card z-depth-2 project-summary",children:Object(i.jsxs)("div",{className:"card-content",children:[Object(i.jsxs)(u.b,{to:c,children:[Object(i.jsx)("c",{class:"stitle",children:t.title}),Object(i.jsx)("br",{})]}),Object(i.jsxs)("hi",{children:[t.content.slice(0,60),"..."]}),Object(i.jsx)("hr",{}),s?Object(i.jsxs)("div",{children:[Object(i.jsx)("c",{class:"left pimg",children:s.image?Object(i.jsx)("img",{alt:"img",src:s.image,width:"40",height:"40",class:"img"}):Object(i.jsx)("i",{class:"blue-text material-icons",children:"account_circle"})}),Object(i.jsxs)("div",{class:"spc grey-text-small",children:["Posted by ",s.firstName," Ninja ",Object(i.jsx)("br",{}),Object(i.jsx)("c",{children:t.createdAt.toDate().toString().slice(0,15)})]})]}):null]})})},Q=function(e){var t=e.projects,n=e.users;return Object(i.jsx)("div",{className:"project-list section",children:t&&t.map((function(e){return Object(i.jsx)("div",{children:Object(i.jsx)(W,{project:e,users:n},e.id)})}))})},V=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.projects,n=e.auth,c=e.users;return n.uid?Object(i.jsx)("div",{className:"dashboard",children:Object(i.jsx)("div",{className:"row",children:Object(i.jsx)("div",{className:"col l6",children:Object(i.jsx)(Q,{projects:t,users:c})})})}):Object(i.jsx)(h.a,{to:"/SignIn"})}}]),n}(s.Component),X=Object(w.d)(Object(k.firestoreConnect)((function(){return["project","users"]})),Object(y.b)((function(e){return{projects:e.firestore.ordered.project,users:e.firestore.ordered.users,auth:e.firebase.auth}})))(V),Y=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(a.a)(this,n);for(var c=arguments.length,i=new Array(c),s=0;s<c;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={title:"",content:"",Likes:0,c:0},e.fun=function(t){""===e.state.title&&e.setState({title:t.title}),""===e.state.content&&0===e.state.c&&e.setState({c:1,content:t.content})},e.handleChange=function(t){console.log(e.state),e.setState(Object(S.a)({},t.target.id,t.target.value)),"content"===t.target.id&&e.setState({c:1})},e.handleSubmit=function(t,n){console.log(e.state);var c={title:e.state.title,content:e.state.content};console.log(e.state),e.state.title&&(console.log("HERE I M"),e.props.updateProject(t.id,c,"update",0)),console.log(e.props),e.props.history.push(n)},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;console.log(this.props);var t=this.props.auth,n=this.props.match.params.id,c=0;this.props.project&&(c=this.props.project.find((function(e){return e.id===n})));var s="/project/"+c.id;return t.uid?c?Object(i.jsxs)("div",{className:"container",children:[Object(i.jsx)("script",{type:"text/javascript",children:"this.fun(project)"}),Object(i.jsxs)("form",{className:"white",onSubmit:function(){return e.handleSubmit(c,s)},children:[Object(i.jsx)("h5",{className:"grey-text text-darken-3",children:"Edit Project"}),Object(i.jsxs)("div",{className:"input-field",children:[Object(i.jsx)("label",{htmlFor:"title",children:"Title"}),Object(i.jsx)("textarea",{id:"title",class:"materialize-textarea",onChange:this.handleChange,children:c.title})]}),Object(i.jsxs)("div",{className:"input-field",children:[Object(i.jsx)("label",{htmlFor:"content",children:"Project Content"}),Object(i.jsx)("textarea",{id:"content",class:"materialize-textarea",onChange:this.handleChange,children:c.content})]}),Object(i.jsx)("div",{className:"input-field",children:Object(i.jsx)("button",{className:"btn pink lighten-1 z-depth-0",onMouseEnter:function(){return e.fun(c)},children:Object(i.jsx)("span",{className:"card-title ",children:"Edit and Save"})})})]})]}):null:Object(i.jsx)(h.a,{to:"/SignIn"})}}]),n}(s.Component),Z=Object(w.d)(Object(k.firestoreConnect)((function(){return["project"]})),Object(y.b)((function(e){return{project:e.firestore.ordered.project,auth:e.firebase.auth}}),(function(e){return{updateProject:function(t,n,c,i){e(f(t,n,c,i))}}})))(Y),$=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.users,n=e.aid;return Object(i.jsxs)("div",{className:"grey lighten-3 all-profile ",children:[Object(i.jsx)("br",{}),Object(i.jsx)("div",{class:"stitle black-text",children:"Peeps you may know!"}),Object(i.jsx)("hr",{}),Object(i.jsx)("div",{children:t&&t.map((function(e){return e.id!==n?Object(i.jsx)("div",{className:"card pep-card white",children:Object(i.jsx)(u.b,{to:"/profile/"+e.id,children:Object(i.jsxs)("div",{class:"row",children:[Object(i.jsx)("div",{class:"col s2",children:e&&e.image?Object(i.jsx)("img",{alt:"img",src:e.image,width:"43",height:"43",class:"img"}):Object(i.jsx)("i",{class:"medium blue-text material-icons",children:"account_circle"})}),Object(i.jsx)("div",{class:"col s7",children:Object(i.jsxs)("div",{class:"center",children:[Object(i.jsxs)("b",{class:"black-text pname",children:[" ",e.firstName," ",e.lastName]}),Object(i.jsx)("br",{}),Object(i.jsxs)("m2",{class:"grey-text-small ",children:["Joined ",e.joinedon?p()(e.joinedon.toDate()).fromNow():null]})]})}),Object(i.jsxs)("div",{children:[Object(i.jsx)("i",{class:"material-icons green white-text add ",children:" add"}),Object(i.jsx)("i",{class:"material-icons rot blue-text",children:" send"})]})]})})}):null}))})]})}}]),n}(s.Component),ee=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.auth,n=e.projects,c=e.users,s=this.props.match.params.id,r=!1,o=0;return c&&(r=c.find((function(e){return e.id===s}))),r&&console.log(r,c),console.log(s),t.uid?Object(i.jsx)("div",{children:Object(i.jsxs)("div",{class:"row profile",children:[Object(i.jsxs)("div",{class:"col l7 s10 offset-l1 offset-s1 white col1",children:[Object(i.jsxs)("div",{class:"title green-text pcont",children:[" ",r&&t.uid===r.id?Object(i.jsxs)("c",{children:[Object(i.jsx)("i",{class:"material-icons",children:"pan_tool "})," Hello,"]}):null,r?Object(i.jsxs)("c",{children:[r.firstName," ",r.lastName,r.image?Object(i.jsx)("img",{alt:"img",src:r.image,width:"50",height:"50",class:"img right"}):Object(i.jsx)("i",{class:"small material-icons right",children:"account_circle"})]}):null]}),r&&t.uid===r.id?Object(i.jsxs)("div",{class:"pcont row",children:[Object(i.jsx)("div",{class:"col s10",children:Object(i.jsx)("textarea",{id:"content1",placeholder:"Got something new to share?..",class:"materialize-textarea grey lighten-2"})}),Object(i.jsx)("div",{class:"col",children:Object(i.jsx)("i",{class:"material-icons blue-text",children:"edit"})})]}):Object(i.jsx)("br",{}),Object(i.jsxs)("div",{class:"leftright",children:[Object(i.jsx)("div",{class:"trapezoid ",children:"Posts"}),Object(i.jsx)("div",{class:"plist row grey lighten-2",children:Object(i.jsx)("div",{class:"col s11",children:n&&n.map((function(e){return e.AuthorId===s?Object(i.jsxs)("c",{children:[console.log(o++),Object(i.jsx)(W,{project:e,users:c},e.id)]}):null}))})})]})]}),Object(i.jsx)("div",{class:"col l3 s10 m5 offset-m3 offset-s1 grey lighten-3",children:Object(i.jsx)($,{users:c,aid:t.uid})})]})}):Object(i.jsx)(h.a,{to:"/SignIn"})}}]),n}(s.Component),te=Object(w.d)(Object(k.firestoreConnect)((function(){return["project","users"]})),Object(y.b)((function(e){return console.log(e),{auth:e.firebase.auth,projects:e.firestore.ordered.project,users:e.firestore.ordered.users,profile:e.firebase.profile}})))(ee),ne=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(i.jsx)(u.a,{children:Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)(C,{}),Object(i.jsx)("br",{}),Object(i.jsxs)(h.d,{children:[Object(i.jsx)(h.b,{path:!0,exact:"/",component:X}),Object(i.jsx)(h.b,{path:"/upload",component:R}),Object(i.jsx)(h.b,{path:"/SignIN",component:F}),Object(i.jsx)(h.b,{path:"/SignUp",component:D}),Object(i.jsx)(h.b,{path:"/Create",component:T}),Object(i.jsx)(h.b,{path:"/project/:id",component:H}),Object(i.jsx)(h.b,{path:"/edit/:id",component:Z}),Object(i.jsx)(h.b,{path:"/profile/:id",component:te})]}),Object(i.jsx)("br",{})]})})}}]),n}(s.Component),ce=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,411)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),i(e),s(e),r(e)}))},ie={authError:null},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_ERROR":return console.log("login error"),Object(c.a)(Object(c.a)({},e),{},{authError:"Login failed"});case"LOGIN_SUCCESS":return console.log("login success"),{authError:null};case"SIGNED_OUT":return console.log("signed out"),{state:e};case"SIGNUP_SUCCESS":return console.log("signup success"),Object(c.a)(Object(c.a)({},e),{},{authError:null});case"SIGNUP_ERROR":return console.log("signup error"),Object(c.a)(Object(c.a)({},e),{},{authError:t.err.message});default:return e}},re={projects:[]},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_PROJECT_SUCCESS":return console.log("create project success"),e;case"CREATE_PROJECT_ERROR":return console.log("create project error"),e;case"UPDATE_PROJECT":return console.log("UPDATE project"),e;case"UPDATE_PROJECT_ERROR":return console.log("update project error"),e;default:return e}},ae=n(56),le=Object(w.c)({auth:se,project:oe,firestore:ae.firestoreReducer,firebase:k.firebaseReducer}),de=n(215),je=Object(w.e)(le,Object(w.d)(Object(w.a)(de.a.withExtraArgument({getFirebase:k.getFirebase,getFirestore:ae.getFirestore})),Object(ae.reduxFirestore)(N.a,N.a))),ue={firebase:N.a,config:{userProfile:"users",useFirestoreForProfile:!0,enableRedirectHandling:!1,resetBeforeLogin:!1},dispatch:je.dispatch,createFirestoreInstance:ae.createFirestoreInstance};function he(e){var t=e.children,n=Object(y.c)((function(e){return e.firebase.auth}));return Object(k.isLoaded)(n)?t:Object(i.jsx)("div",{children:"Loading Screen..."})}o.a.render(Object(i.jsx)(y.a,{store:je,children:Object(i.jsx)(k.ReactReduxFirebaseProvider,Object(c.a)(Object(c.a)({},ue),{},{children:Object(i.jsxs)(he,{children:[" ",Object(i.jsx)(ne,{})]})}))}),document.getElementById("root")),ce()}},[[409,1,2]]]);
//# sourceMappingURL=main.2ae3cebc.chunk.js.map